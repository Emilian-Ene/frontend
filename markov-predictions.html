<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- SEO Meta Tags -->
    <title>Trading Predictions - Markov Chain Analysis | TOPC Dashboard</title>
    <meta name="description" content="Predict your next trading outcomes using advanced Markov Chain analysis. Track win/loss patterns, analyze trading frequency, and get data-driven predictions for your forex trades." />
    <meta name="keywords" content="trading predictions, Markov Chain analysis, forex trading, trade analytics, win loss prediction, trading patterns, TOPC dashboard, algorithmic trading, trade statistics" />
    <meta name="author" content="TOPC - Trading Outcome Prediction Center" />
    <meta name="robots" content="index, follow" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Trading Predictions - Markov Chain Analysis | TOPC" />
    <meta property="og:description" content="Predict your next trading outcomes using advanced Markov Chain analysis. Track patterns and optimize your trading strategy." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.topc-trading.com/markov-predictions.html" />
    <meta property="og:image" content="https://www.topc-trading.com/Assets/topc-predictions-og.png" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Trading Predictions - Markov Chain Analysis | TOPC" />
    <meta name="twitter:description" content="Predict your next trading outcomes using advanced Markov Chain analysis." />
    <meta name="twitter:image" content="https://www.topc-trading.com/Assets/topc-predictions-twitter.png" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.topc-trading.com/markov-predictions.html" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    
    <link rel="stylesheet" href="css/markov-predictions.css">
    
    <!-- Vercel Speed Insights -->
    <script>
      window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/speed-insights/script.js"></script>
    
    <!-- Vercel Web Analytics -->
    <script defer src="/_vercel/insights/script.js"></script>
  </head>
  <body class="bg-slate-900 text-slate-300" style="font-family: 'Inter', sans-serif;">
    <!-- Header Navigation -->
    <header
      class="sticky top-0 z-50 bg-slate-800/95 backdrop-blur border-b border-slate-700/80"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="h-14 flex items-center gap-6">
          <!-- Brand -->
          <a href="index.html" class="flex items-center gap-2 shrink-0">
            <!-- Candlestick mark + gold chevron -->
            <svg
              class="w-10 h-10"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <defs>
                <linearGradient
                  id="goldChevronIdx"
                  x1="14"
                  y1="12"
                  x2="20"
                  y2="12"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop offset="0" stop-color="#f59e0b" />
                  <stop offset="1" stop-color="#fbbf24" />
                </linearGradient>
              </defs>
              <g transform="rotate(45 12 12)">
                <!-- Right chevron (gold) -->
                <path
                  d="M14 6 L20 12 L14 18 L14 15 L17 12 L14 9 Z"
                  fill="url(#goldChevronIdx)"
                />
                <!-- Three bars (square) -->
                <rect
                  x="4.8"
                  y="14"
                  width="5.8"
                  height="2"
                  rx="0"
                  fill="#22c55e"
                />
                <rect
                  x="5.8"
                  y="11"
                  width="4.8"
                  height="2"
                  rx="0"
                  fill="#ef4444"
                />
                <rect
                  x="6.8"
                  y="8"
                  width="3.8"
                  height="2"
                  rx="0"
                  fill="#22c55e"
                />
                <!-- Horizontal wicks with square ends (thin) -->
                <line
                  x1="4.2"
                  y1="15"
                  x2="4.8"
                  y2="15"
                  stroke="#22c55e"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
                <line
                  x1="10.6"
                  y1="15"
                  x2="11.2"
                  y2="15"
                  stroke="#22c55e"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
                <line
                  x1="5.2"
                  y1="12"
                  x2="5.8"
                  y2="12"
                  stroke="#ef4444"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
                <line
                  x1="10.6"
                  y1="12"
                  x2="11.2"
                  y2="12"
                  stroke="#ef4444"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
                <line
                  x1="6.2"
                  y1="9"
                  x2="6.8"
                  y2="9"
                  stroke="#22c55e"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
                <line
                  x1="10.6"
                  y1="9"
                  x2="11.2"
                  y2="9"
                  stroke="#22c55e"
                  stroke-width="0.6"
                  stroke-linecap="square"
                />
              </g>
            </svg>
            <span
              class="font-extrabold tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-amber-500"
              >TOPC</span
            >
          </a>

          <!-- Breadcrumb Navigation -->
          <nav class="hidden md:flex items-center gap-2 text-sm text-slate-400">
            <a href="dashboard.html" class="hover:text-white transition-colors">Dashboard</a>
            <i class="fas fa-chevron-right text-xs"></i>
            <span class="text-white font-medium">Markov Chain Analysis</span>
          </nav>

          <!-- Right Side -->
          <div class="ml-auto flex items-center gap-4">
            <a
              href="index.html"
              class="inline-flex items-center gap-2 text-slate-300 hover:text-white font-semibold transition-colors"
            >
              <i class="fas fa-home"></i>
              <span>Home</span>
            </a>
          </div>
        </div>
      </div>
    </header>

    <div class="dashboard-grid">
      <div class="form-column">
        <h1 class="text-3xl font-bold mb-2 text-white">Trade Events Log</h1>
        <p class="text-slate-400 mb-8">
          Track and predict your trading win/loss patterns using Markov Chain analysis.
        </p>

        <div class="type-selector-grid">
          <label>
            <input type="radio" name="logType" value="received" class="hidden" checked />
            <div class="type-card">
              <div class="type-card-icon bg-green-500">
                <i class="fas fa-gift"></i>
              </div>
              <div><h4 class="font-bold text-white">Win Event</h4></div>
            </div>
          </label>
          <label>
            <input type="radio" name="logType" value="paid" class="hidden" />
            <div class="type-card">
              <div class="type-card-icon bg-red-500">
                <i class="fas fa-receipt"></i>
              </div>
              <div><h4 class="font-bold text-white">Loss Event</h4></div>
            </div>
          </label>
        </div>

        <input type="hidden" id="editing-id" />
        <div class="input-group">
          <input type="text" id="logDescription" class="input-field" placeholder=" " />
          <label for="logDescription" class="input-label">Description</label>
        </div>

        <div class="input-group">
          <input type="text" id="logDateTime" class="input-field" placeholder="DD/MM/YYYY HH:MM:SS" />
          <label for="logDateTime" class="input-label">Date and Time</label>
        </div>

        <div class="button-group">
          <button id="submit-button">
            <i class="fas fa-plus-circle"></i>
            <span>Add to Log</span>
          </button>
          <button id="cancel-edit-button" class="hidden">Cancel</button>
        </div>

        <h2 class="section-title mt-8">Trade History</h2>
        <div class="flex justify-end gap-2 mb-4">
          <label for="csv-import-input" class="cursor-pointer bg-slate-700 hover:bg-slate-600 text-sm font-medium text-slate-300 px-3 py-1.5 rounded-md border border-slate-600 shadow-sm transition-colors flex items-center gap-1.5" title="Import trades from dashboard CSV export">
            <i class="fas fa-cloud-upload-alt text-base"></i>
            Import CSV
          </label>
          <button id="csv-export-btn" class="bg-slate-700 hover:bg-slate-600 text-sm font-medium text-slate-300 px-3 py-1.5 rounded-md border border-slate-600 shadow-sm transition-colors flex items-center gap-1.5" title="Export trades to CSV">
            <i class="fas fa-cloud-download-alt text-base"></i>
            Export CSV
          </button>
          <button id="delete-all-btn" class="bg-red-600 hover:bg-red-700 text-sm font-medium text-white px-3 py-1.5 rounded-md border border-red-500 shadow-sm transition-colors flex items-center gap-1.5" title="Delete all entries">
            <i class="fas fa-trash-alt text-base"></i>
            Delete All
          </button>
        </div>
        <input type="file" id="csv-import-input" class="hidden" accept=".csv" />
        <div id="logEntries">
          <div id="emptyState">
            <i class="fas fa-archive text-5xl text-slate-600 mx-auto mb-2"></i>
            <p class="text-slate-500 font-medium">No trades yet. Import from your dashboard or add manually.</p>
          </div>
        </div>
      </div>

      <div class="log-column">
        <div class="statistics-section">
          <h2 class="section-title">Historical Frequency</h2>
          <div class="stats-tabs">
            <button id="tab-all" class="stats-tab active">All Entries</button>
            <button id="tab-received" class="stats-tab">Wins</button>
            <button id="tab-paid" class="stats-tab">Losses</button>
          </div>
          <div class="charts-grid">
            <div class="chart-container">
              <canvas id="daily-chart"></canvas>
            </div>
            <div class="chart-container">
              <canvas id="hourly-chart"></canvas>
            </div>
          </div>
        </div>

        <div class="statistics-section">
          <h2 class="section-title">Key Historical Probabilities</h2>
          <div id="probabilities-container">
            <h3 class="prob-title">General</h3>
            <div id="general-prob-grid" class="prob-grid"></div>
            <h3 class="prob-title">Most Likely Day For...</h3>
            <div id="day-prob-grid" class="prob-grid day-grid"></div>
            <h3 class="prob-title">Frequency by Time of Day</h3>
            <div class="sub-prob-section">
              <h4 class="sub-prob-title">For Wins</h4>
              <div id="gift-timerange-grid" class="prob-grid"></div>
            </div>
            <div class="sub-prob-section">
              <h4 class="sub-prob-title">For Losses</h4>
              <div id="tribute-timerange-grid" class="prob-grid"></div>
            </div>
          </div>
          <h2 class="section-title" style="margin-top: 2rem; font-size: 1.25rem">
            Historical Probability Distribution
          </h2>
          <div class="prob-charts-grid">
            <div class="prob-chart-container">
              <canvas id="gift-day-chart"></canvas>
            </div>
            <div class="prob-chart-container">
              <canvas id="tribute-day-chart"></canvas>
            </div>
            <div class="prob-chart-container">
              <canvas id="timerange-chart"></canvas>
            </div>
          </div>
        </div>

        <div class="statistics-section">
          <h2 class="section-title">Next Event Prediction (Markov Chain)</h2>
          <p id="markov-info" class="text-slate-400 text-sm mb-4">
            Predictions for the next event based on the most recent entry.
          </p>
          <div id="markov-type-container" class="prob-grid"></div>
          <div id="markov-gift-prediction-section" class="prediction-section"></div>
          <div id="markov-tribute-prediction-section" class="prediction-section"></div>
        </div>
      </div>
    </div>

    <div id="modal" class="modal-overlay hidden">
      <div class="modal-content">
        <button id="modal-close-button" class="modal-close-button">
          <i class="fas fa-times"></i>
        </button>
        <div id="modal-body" class="modal-body"></div>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
      <div class="modal-content max-w-md">
        <div class="modal-body">
          <div class="text-center mb-6">
            <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4">
              <i class="fas fa-exclamation-triangle text-red-600 text-2xl"></i>
            </div>
            <h3 id="confirm-title" class="text-xl font-semibold text-white mb-2">Delete All Entries?</h3>
            <p id="confirm-message" class="text-slate-400">This action cannot be undone. All your trade history will be permanently deleted.</p>
          </div>
          <div class="flex gap-3">
            <button id="confirm-cancel" class="flex-1 bg-slate-700 hover:bg-slate-600 text-white font-medium py-2.5 px-4 rounded-lg transition-colors">
              Cancel
            </button>
            <button id="confirm-ok" class="flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors">
              Delete All
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/markov-predictions.js"></script>
  </body>
</html>
